{
  "actions" : {
    "build" : {
      "enabled" : true,
      "script" : "#!\/bin\/zsh\ncd website\n# Make resized social media card images\nfind \"assets\" -type f -name '*-start.png' -print0 | while IFS= read -r -d '' line; do\n  filename=\"${line%.*}\"\n  finalname=\"${filename}-social-share-card.png\"\n  if [ ! -f \"${finalname}\" ]; then\n\techo \"${RED}Card image for \"${line}\" does not exist.\"\n\tcp \"${line}\" \"${finalname}\"\n\tmagick mogrify -interpolate nearest -filter point -resize 437.5% \"$finalname\"\n\tmagick mogrify -bordercolor black -border 250x0 \"$finalname\"\n\techo \"${RED}Card image \"${finalname}\" done\"\n  fi\ndone\necho \"${RED}Card images checked\"\n\necho \"${RED}Removing _site\"\nrm -r _site\n\n# BÃ¢tir le site\necho \"${RED}Building site\"\nJEKYLL_ENV=production bundle exec jekyll build --profile --config _config.yml\n\n\nif [ -d _site\/timelines ];\nthen\n  echo \"${RED}Timelines folder already exists; skipping the copy.\"\nelse\n  echo \"${RED}Copying content of _timelines in _site (replaces existing files if they exist).\"\n  cp -av _timelines\/. _site\nfi\n\necho \"${RED}Copying _redirects inside _site\"\ncp -v _redirects _site\/\n\n# Minify\necho \"${RED}Minifying _site\"\nminify -r -o _site\/ _site\/ --match \"*.css\" --match \"*.html\" --match \"*.json\" --match \"*.xml\"\n\necho \"${RED}Done\""
    },
    "clean" : {
      "enabled" : true,
      "script" : "#!\/bin\/zsh\ngit gc\nrbenv install $(rbenv install -l | grep -v - | tail -1)\nrbenv global $(rbenv install -l | grep -v - | tail -1)\ngem install bundler\ncd website\nrm gemfile.lock\nbundle install\njekyll clean"
    },
    "run" : {
      "enabled" : true,
      "script" : "#!\/bin\/zsh\ncd website\nrm -r _site-local\nJEKYLL_ENV=local_serve bundle exec jekyll serve --host 0.0.0.0 --incremental --livereload --force_polling --config _config.yml,_local.yml --trace --profile"
    }
  },
  "openLogOnRun" : "start"
}
